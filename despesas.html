<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Despesas</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      display: flex;
      background: #f4f6fa;
      color: #2f4f4f;
      min-height: 100vh;
      animation: fadeIn 0.2s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .sidebar {
      width: 220px;
      background: #111827;
      color: #fff;
      padding: 30px 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .sidebar h2 {
      font-size: 20px;
      margin-bottom: 30px;
    }

    .sidebar a {
      color: #cbd5e1;
      text-decoration: none;
      padding: 10px 15px;
      border-radius: 8px;
      display: block;
      transition: 0.3s;
    }

    .sidebar a:hover,
    .sidebar a.active {
      background: #1e293b;
      color: #fff;
    }

    .main {
      flex: 1;
      padding: 30px;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
      font-size: 26px;
      color: #008080;
    }

    form {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-bottom: 40px;
    }

    input, select, button {
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      background: #20b2aa;
      color: white;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background: #008b8b;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    th, td {
      padding: 12px 10px;
      text-align: center;
      border-bottom: 1px solid #eee;
    }

    th {
      background: #e0f7fa;
      color: #2f4f4f;
      font-weight: 600;
    }

    .btn {
      padding: 6px 12px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      font-size: 14px;
    }

    .excluir {
      background: #dc143c;
      color: white;
    }
  </style>
</head>
<body>

  <aside class="sidebar">
    <h2>📌 Despesas</h2>
    <nav>
      <a href="dashboard.html">🏠 Dashboard</a>
      <a href="compras.html">🛒 Compras</a>
      <a href="vendas.html">💰 Vendas</a>
      <a href="clientes.html">👤 Clientes</a>
      <a href="fornecedores.html">🏭 Fornecedores</a>
      <a href="estoque.html">📦 Estoque</a>
      <a href="contas-receber.html">📥 Contas a Receber</a>
      <a href="contas-pagar.html">📤 Contas a Pagar</a>
      <a href="despesas.html" class="active">💸 Despesas</a>
      <a href="dre.html">📊 DRE</a>
    </nav>
  </aside>

  <main class="main">
    <h2>Lançamento de Despesas</h2>

    <form id="formDespesas">
      <input type="date" id="data" required>
      <input type="text" id="descricao" placeholder="Descrição da Despesa" required>
      <input type="number" id="valor" placeholder="Valor (R$)" required>
      <select id="categoria" required>
        <option value="">Categoria</option>
        <option>Aluguel</option>
        <option>Energia</option>
        <option>Internet</option>
        <option>Impostos</option>
        <option>Outros</option>
      </select>
      <button type="submit">Salvar</button>
    </form>

    <table>
      <thead>
        <tr>
          <th>Data</th>
          <th>Descrição</th>
          <th>Categoria</th>
          <th>Valor</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="tabelaDespesas"></tbody>
    </table>
  </main>

  <script>
    const form = document.getElementById('formDespesas');
    const tabela = document.getElementById('tabelaDespesas');

    let despesas = JSON.parse(localStorage.getItem("despesas")) || [];

    function renderizar() {
      tabela.innerHTML = '';
      despesas.forEach((d, i) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${d.data}</td>
          <td>${d.descricao}</td>
          <td>${d.categoria}</td>
          <td>R$ ${parseFloat(d.valor).toFixed(2)}</td>
          <td>
            <button class="btn excluir" onclick="excluir(${i})">Excluir</button>
          </td>
        `;
        tabela.appendChild(row);
      });
      localStorage.setItem("despesas", JSON.stringify(despesas));
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      const data = document.getElementById('data').value;
      const descricao = document.getElementById('descricao').value;
      const valor = parseFloat(document.getElementById('valor').value);
      const categoria = document.getElementById('categoria').value;

      despesas.push({ data, descricao, valor, categoria });
      form.reset();
      renderizar();
    });

    window.excluir = i => {
      despesas.splice(i, 1);
      renderizar();
    };

    renderizar();
  </script>

</body>
</html>
