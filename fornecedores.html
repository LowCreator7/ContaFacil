<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Fornecedores</title>
  <link rel="stylesheet" href="estilo.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>

  <aside class="sidebar">
    <h2>ğŸ­ Fornecedores</h2>
    <nav>
      <a href="perfil.html">âš™ï¸ Meu Perfil</a>
      <a href="dashboard.html">ğŸ  Dashboard</a>
      <a href="compras.html">ğŸ›’ Compras</a>
      <a href="vendas.html">ğŸ’° Vendas</a>
      <a href="produtos.html">ğŸ“„ Produtos</a>
      <a href="clientes.html">ğŸ‘¤ Clientes</a>
      <a href="fornecedores.html" class="active">ğŸ­ Fornecedores</a>
      <a href="contas-receber-simples.html">ğŸ“¥ Contas a Receber</a>
      <a href="contas-pagar.html">ğŸ“¤ Contas a Pagar</a>
      <a href="despesas.html">ğŸ’¸ Despesas</a>
      <a href="estoque.html">ğŸ“¦ Estoque</a>
      <a href="DRE.html">ğŸ“Š DRE</a>
    </nav>
  </aside>

  <main class="main">
    <h2>Fornecedores Registrados</h2>
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Telefone</th>
        </tr>
      </thead>
      <tbody id="tabelaFornecedores"></tbody>
    </table>
  </main>

  <script type="module">
  import { auth, carregarDoFirestore } from './script-firebase.js';

  const tabela = document.getElementById("tabelaFornecedores");

  async function carregarFornecedores() {
    const user = auth.currentUser;
    if (!user) {
      alert("UsuÃ¡rio nÃ£o autenticado.");
      return;
    }

    const base = `usuarios/${user.uid}/fornecedores`;
    const fornecedores = await carregarDoFirestore(base);

    tabela.innerHTML = "";

    fornecedores.forEach(f => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${f.nome}</td>
        <td>${f.telefone || '-'}</td>
      `;
      tabela.appendChild(row);
    });
  }

  carregarFornecedores();
</script>

</body>
</html>
